function _0x3c64(_0x4c380c,_0x5f4138){const _0x4792eb=_0x4792();return _0x3c64=function(_0x3c64ec,_0x4c1dcb){_0x3c64ec=_0x3c64ec-0x142;let _0xee7761=_0x4792eb[_0x3c64ec];return _0xee7761;},_0x3c64(_0x4c380c,_0x5f4138);}(function(_0x5ee2d6,_0x15b2bd){const _0x5e3b28=_0x3c64,_0x59c5d5=_0x5ee2d6();while(!![]){try{const _0x218d15=-parseInt(_0x5e3b28(0x1a1))/0x1+-parseInt(_0x5e3b28(0x16a))/0x2+-parseInt(_0x5e3b28(0x14d))/0x3+-parseInt(_0x5e3b28(0x18b))/0x4+-parseInt(_0x5e3b28(0x1c3))/0x5+parseInt(_0x5e3b28(0x166))/0x6*(parseInt(_0x5e3b28(0x1b4))/0x7)+parseInt(_0x5e3b28(0x1a0))/0x8;if(_0x218d15===_0x15b2bd)break;else _0x59c5d5['push'](_0x59c5d5['shift']());}catch(_0x2824e4){_0x59c5d5['push'](_0x59c5d5['shift']());}}}(_0x4792,0x4f651),(function(){const _0x630fb8=_0x3c64;let _0x5bec9e=0x74,_0x9ce1a7=1.7,_0x2cb985=require('./PlayerData')[_0x630fb8(0x1a7)],_0x2f9efc=require(_0x630fb8(0x193))['ServerPrc'],_0x411962=require(_0x630fb8(0x1c9))['ServerCmd'],_0xea5bf7=[{'command':_0x630fb8(0x188),'flags':[_0x630fb8(0x18f),_0x630fb8(0x18d),_0x630fb8(0x173),'setPlayerName','startGame',_0x630fb8(0x1ba),'serverVerCheck',_0x630fb8(0x142),_0x630fb8(0x17c),_0x630fb8(0x18a),'playerReady']},{'command':_0x630fb8(0x150),'flags':[_0x630fb8(0x1a3),_0x630fb8(0x178),'eventMove']},{'command':_0x630fb8(0x1c4),'flags':[_0x630fb8(0x14b),_0x630fb8(0x172),_0x630fb8(0x185),'variable',_0x630fb8(0x1b5),'switch',_0x630fb8(0x1ca),_0x630fb8(0x14f),'saveDataRequest',_0x630fb8(0x145),_0x630fb8(0x18a),_0x630fb8(0x1ae),_0x630fb8(0x17b),_0x630fb8(0x197),'refreshPlayerActivity',_0x630fb8(0x1be)]},{'command':_0x630fb8(0x195),'flags':['eventStarted',_0x630fb8(0x17d),_0x630fb8(0x176),_0x630fb8(0x1ad),_0x630fb8(0x19c),'sharedForceCancel',_0x630fb8(0x191)]},{'command':_0x630fb8(0x1b0),'flags':['started',_0x630fb8(0x1b8),_0x630fb8(0x162),_0x630fb8(0x1c8),'logMessage','input',_0x630fb8(0x198),_0x630fb8(0x1c2),'ended',_0x630fb8(0x1bb)]},{'command':_0x630fb8(0x163),'flags':[_0x630fb8(0x16d),_0x630fb8(0x15a)]},{'command':_0x630fb8(0x187),'flags':[_0x630fb8(0x149)]}];class _0xff640a{constructor(_0x37326e,_0x22b794,_0x5c671a){const _0x100aaa=_0x630fb8;this[_0x100aaa(0x1b6)]=_0x5c671a,this[_0x100aaa(0x15d)]=_0x37326e,this[_0x100aaa(0x143)]=_0x22b794,this['gameRooms']=[],this[_0x100aaa(0x190)]=[],this[_0x100aaa(0x1ac)]={},console[_0x100aaa(0x1b3)]('Server\x20Main\x20created.\x20rev:\x20'+_0x5bec9e);}[_0x630fb8(0x156)](){const _0x3d4160=_0x630fb8;if(this[_0x3d4160(0x143)]==!![])this[_0x3d4160(0x175)]();else this['startHttp']();this[_0x3d4160(0x157)]=new _0x2f9efc(this),this[_0x3d4160(0x151)]=new _0x411962(this),this[_0x3d4160(0x153)]();}[_0x630fb8(0x175)](){const _0x8c3892=_0x630fb8;console[_0x8c3892(0x1b3)](_0x8c3892(0x182));const {readFileSync:_0x71efec}=require('fs'),{createServer:_0xe755d8}=require(_0x8c3892(0x1c0)),_0x1c8b5c=_0xe755d8({'key':_0x71efec('./SSL/key.pem'),'cert':_0x71efec(_0x8c3892(0x170))});this['io']=require(_0x8c3892(0x17a))(_0x1c8b5c,{}),_0x1c8b5c[_0x8c3892(0x155)](this[_0x8c3892(0x15d)]);}['startHttp'](){const _0x194fe7=_0x630fb8;this['io']=require(_0x194fe7(0x17a))(this[_0x194fe7(0x15d)]);}['isProperVersion'](_0x1845bb){return _0x1845bb<=_0x5bec9e;}[_0x630fb8(0x1c7)](_0x33d54c){const _0x9232c1=_0x630fb8;return this[_0x9232c1(0x1af)]()[_0x33d54c];}['clientsList'](){const _0x42e15e=_0x630fb8;return this['io'][_0x42e15e(0x1b2)]()[_0x42e15e(0x146)];}['allRoomsList'](){const _0x112feb=_0x630fb8;return this['io'][_0x112feb(0x146)][_0x112feb(0x17e)][_0x112feb(0x160)];}['gameRoomsList'](){const _0x2b8029=_0x630fb8;return this[_0x2b8029(0x1a5)];}[_0x630fb8(0x189)](_0x52f9ba){const _0x170f7a=_0x630fb8;var _0x187579=[];try{_0x52f9ba&&_0x52f9ba['playersIds'][_0x170f7a(0x14e)](_0x3eb1b0=>{const _0x39e7da=_0x170f7a;_0x187579['push'](this[_0x39e7da(0x1bd)](_0x3eb1b0));});}catch(_0x4e144e){console['warn'](_0x4e144e);}return _0x187579;}[_0x630fb8(0x199)](_0x97cef7,_0x4e851b){const _0xac2526=_0x630fb8;try{var _0xd2e99a=this[_0xac2526(0x189)](_0x97cef7);return _0xd2e99a[_0xac2526(0x15c)](_0x41442c=>_0x41442c[_0xac2526(0x1bf)]==_0x4e851b);}catch(_0x2e5f3d){return console[_0xac2526(0x171)](_0x2e5f3d),[];}}[_0x630fb8(0x18c)](_0x5e6f49,_0x114946){const _0x1d5546=_0x630fb8;try{var _0x327d8a=this['getPlayersOnMapId'](_0x5e6f49,_0x114946);return _0x327d8a[_0x1d5546(0x148)](_0x1e1faf=>_0x1e1faf[_0x1d5546(0x169)]==!![]);}catch(_0x269af3){return console[_0x1d5546(0x171)](_0x269af3),null;}}['getRoomHostedByClient'](_0x1cc09f){const _0x15c8f8=_0x630fb8;try{return this['gameRoomsList']()[_0x15c8f8(0x148)](_0x4862ce=>_0x4862ce['masterId']==_0x1cc09f);}catch(_0x5dac23){return console[_0x15c8f8(0x171)](_0x5dac23),null;}}['getRoomForClient'](_0x6e3c53){const _0x54739a=_0x630fb8;try{let _0x48d67c=this[_0x54739a(0x1aa)]()[_0x54739a(0x148)](_0x4d6139=>_0x4d6139['playersIds'][_0x54739a(0x19b)](_0x6e3c53));return _0x48d67c;}catch(_0x11aacc){return console[_0x54739a(0x171)](_0x11aacc),null;}}[_0x630fb8(0x18e)](_0x4be21c){const _0x5aed6c=_0x630fb8;try{return this[_0x5aed6c(0x1aa)]()[_0x5aed6c(0x148)](_0x38a0e3=>_0x38a0e3['name']==_0x4be21c);}catch(_0x229f0c){return console[_0x5aed6c(0x171)](_0x229f0c),null;}}['getPlayerDataById'](_0x5111e5){const _0x3ee91c=_0x630fb8;try{let _0x56ef8b=this[_0x3ee91c(0x1c7)](_0x5111e5);return _0x56ef8b?this[_0x3ee91c(0x190)]['find'](_0x4ed09b=>_0x4ed09b[_0x3ee91c(0x177)](_0x56ef8b)):this[_0x3ee91c(0x190)]['find'](_0x41d886=>_0x41d886['id']()==_0x5111e5);}catch(_0x3ceab8){return console[_0x3ee91c(0x171)](_0x3ceab8),null;}}[_0x630fb8(0x1a8)](_0x370c9e){const _0x2e73d4=_0x630fb8;try{let _0x124565=this[_0x2e73d4(0x1bd)](_0x370c9e);if(_0x124565)this['allServerPlayers']['delete'](_0x124565);}catch(_0x54494e){console['warn'](_0x54494e);}}[_0x630fb8(0x18d)](_0x32126c){const _0x8c269d=_0x630fb8;try{_0x8c269d(0x147)['p'](_0x32126c),this[_0x8c269d(0x157)][_0x8c269d(0x184)](_0x32126c);let _0x3a6a4c=this[_0x8c269d(0x18e)](_0x32126c);this['gameRoomsList']()['delete'](_0x3a6a4c);if(this[_0x8c269d(0x1ac)][_0x32126c])delete this['battles'][_0x32126c];console['log'](_0x8c269d(0x14c)+this[_0x8c269d(0x1aa)]()[_0x8c269d(0x167)]);}catch(_0x3572d9){console[_0x8c269d(0x171)]('closeRoom\x20'+_0x3572d9);}}[_0x630fb8(0x1ab)](_0x430ad5,_0x3617e9){const _0x2a4b0d=_0x630fb8;try{if(_0x430ad5<=0x0)return;_0x2a4b0d(0x183)['p'](_0x430ad5);var _0x1abac0=this[_0x2a4b0d(0x199)](_0x3617e9,_0x430ad5);_0x1abac0=_0x1abac0['filter'](_0x5e46ff=>_0x5e46ff[_0x2a4b0d(0x1c6)]()),_0x1abac0[_0x2a4b0d(0x167)]>0x0?_0x1abac0[0x0][_0x2a4b0d(0x169)]=!![]:_0x2a4b0d(0x1c5)['p'](_0x430ad5);}catch(_0x256564){console[_0x2a4b0d(0x171)](_0x2a4b0d(0x17f)+_0x256564);}}[_0x630fb8(0x179)](){const _0x5aac04=_0x630fb8;try{let _0x1bf4d4=this[_0x5aac04(0x1aa)]();for(var _0x43e82d=0x0;_0x43e82d<_0x1bf4d4['length'];_0x43e82d++){let _0x3b1c59=_0x1bf4d4[_0x43e82d],_0x198586=_0x3b1c59['masterId'],_0x831d01=this[_0x5aac04(0x1c7)](_0x198586);if(!_0x831d01){this[_0x5aac04(0x1aa)]()[_0x5aac04(0x1b7)](_0x3b1c59);return;}}}catch(_0x2292df){console[_0x5aac04(0x171)](_0x5aac04(0x152)+_0x2292df);}}['_handleCommands'](){this['io']['on']('connection',_0x49b626=>{const _0x5eceec=_0x3c64;console[_0x5eceec(0x1b3)](_0x5eceec(0x1b1)+_0x49b626['id']),this[_0x5eceec(0x16b)](_0x49b626),this[_0x5eceec(0x144)](_0x49b626),this[_0x5eceec(0x19e)](_0x49b626),this['_handleANETEventsForClient'](_0x49b626);});}['_registerNewPlayer'](_0x5e20a1){const _0x4ebc27=_0x630fb8;try{let _0x54b5a3=new _0x2cb985(_0x5e20a1);this[_0x4ebc27(0x190)]['push'](_0x54b5a3),_0x4ebc27(0x1a4)['p'](_0x54b5a3[_0x4ebc27(0x154)]);}catch(_0x400394){console[_0x4ebc27(0x171)](_0x4ebc27(0x165)+_0x400394);}}[_0x630fb8(0x144)](_0xd21633){const _0x1db90b=_0x630fb8;_0xd21633['on'](_0x1db90b(0x15e),()=>{const _0x2d8ec7=_0x1db90b;try{console[_0x2d8ec7(0x1b3)](_0x2d8ec7(0x164)+_0xd21633['id']);var _0x5323f3=this[_0x2d8ec7(0x15b)](_0xd21633['id']);_0x5323f3&&(console['log'](_0x2d8ec7(0x159)+_0x5323f3[_0x2d8ec7(0x154)]),this[_0x2d8ec7(0x196)](_0x5323f3[_0x2d8ec7(0x154)])?(_0x5323f3=this[_0x2d8ec7(0x1cb)](_0xd21633['id']),_0x5323f3&&this[_0x2d8ec7(0x151)]['lobby_leaveRoom']({'from':_0xd21633['id'],'data':{'content':_0x5323f3[_0x2d8ec7(0x154)]}})):this[_0x2d8ec7(0x18d)](_0x5323f3['name'])),this[_0x2d8ec7(0x1a8)](_0xd21633['id']);}catch(_0x3c94b0){console[_0x2d8ec7(0x171)](_0x2d8ec7(0x194)+_0x3c94b0);}});}['changeRoomMasterOrCloseRoom'](_0x4c6fbd){const _0x42ebc3=_0x630fb8;try{_0x42ebc3(0x161)['p'](_0x4c6fbd);let _0x27bd59=this['getGameRoomByRoomName'](_0x4c6fbd);var _0xd5a3d8=this[_0x42ebc3(0x189)](_0x27bd59);if(_0xd5a3d8[_0x42ebc3(0x167)]>0x0){var _0x3bb08d=_0xd5a3d8[_0x42ebc3(0x15c)](_0x59f317=>_0x59f317&&_0x59f317['socket']&&_0x59f317[_0x42ebc3(0x192)]['id']!=_0x27bd59[_0x42ebc3(0x174)]);if(_0x3bb08d[_0x42ebc3(0x167)]>0x0){let _0x554288=_0x3bb08d[0x0]['socket']['id'];return _0x27bd59[_0x42ebc3(0x174)]=_0x554288,_0x42ebc3(0x1a2)['p'](_0x554288),this[_0x42ebc3(0x157)][_0x42ebc3(0x15f)](_0x27bd59,_0x554288),!![];}}}catch(_0x5c7a92){console['warn']('changeRoomMasterOrCloseRoom\x20'+_0x5c7a92);}return![];}['_handleDebugEventsForClient'](_0x3800b9){const _0x5862e8=_0x630fb8;_0x3800b9['on'](_0x5862e8(0x1a6),_0x15bb70=>{const _0x499373=_0x5862e8;try{let _0x5d10c4=_0x499373(0x16f)['format'](_0x3800b9['id'],_0x15bb70[_0x499373(0x1a9)]);console[_0x499373(0x1b3)](_0x5d10c4);}catch(_0x113105){console[_0x499373(0x171)](_0x499373(0x16e)+_0x113105);}});}[_0x630fb8(0x19a)](_0xc5f49c){const _0x5d747c=_0x630fb8;_0xea5bf7[_0x5d747c(0x14e)](_0x48aa7b=>{const _0x257e06=_0x5d747c;this[_0x257e06(0x158)](_0xc5f49c,_0x48aa7b[_0x257e06(0x16c)]);});}[_0x630fb8(0x158)](_0x3d2f5f,_0x49ac80){let _0xe1b99=(_0x2133d8,_0x1c3939)=>this['_onFlagCommand'](_0x49ac80,_0x2133d8,_0x1c3939);_0x3d2f5f['on'](_0x49ac80,_0xe1b99);}[_0x630fb8(0x1bc)](_0x232acc,_0x350a44,_0x587a54){const _0x235564=_0x630fb8;let _0x2c824c=_0x350a44['data']['id'],_0x1054ef=_0x235564(0x181)[_0x235564(0x19d)](_0x232acc,_0x2c824c);if(!this[_0x235564(0x151)][_0x1054ef]){console[_0x235564(0x171)](_0x1054ef+'\x20not\x20found!');return;}try{this[_0x235564(0x151)][_0x1054ef](_0x350a44,_0x587a54);}catch(_0x6d6269){console[_0x235564(0x171)](_0x6d6269);}}['t'](){const _0x57115f=_0x630fb8;this['io'][_0x57115f(0x146)][_0x57115f(0x19f)](_0x57115f(0x1a6),_0x57115f(0x1b9)),this['io']['to'](_0x57115f(0x1c1))[_0x57115f(0x19f)](_0x57115f(0x1a6),_0x57115f(0x180));var _0x49d968=this[_0x57115f(0x1c7)](id);_0x49d968[_0x57115f(0x168)][_0x57115f(0x19f)]('trace','5555'),_0x49d968['emit'](_0x57115f(0x1a6),'6666666');}}module[_0x630fb8(0x186)][_0x630fb8(0x14a)]=_0xff640a;}()));function _0x4792(){const _0x2e4297=['find','extApiCall','ServerMain','bindActor','Rooms\x20left:\x20','984081enfGZm','forEach','customCommandLink','map','cmd','checkOtherRoomsToExistsMasters\x20','_handleCommands','name','listen','start','prc','_handleMessageForClient','This\x20client\x20hosted\x20a\x20room\x20','forClients','getRoomHostedByClient','filter','port','disconnect','game_refreshMasterClient','rooms','Change\x20room\x20master\x20for\x20room\x20%1','animation','common','Client\x20disconnected\x20','_registerNewPlayer\x20','18RmPxSp','length','broadcast','isMapMaster','766458eDTRuS','_registerNewPlayer','command','absz','trace\x20','Client\x20%1\x20trace:\x20%2','./SSL/cert.pem','warn','actorReady','joinToRoom','masterId','startHttps','registerOnShared','isMySocket','playerMove','checkOtherRoomsToExistsMasters','./Server','startedRoomGameData','playersCountOnServ','eventEnded','adapter','changeMapMaster\x20','444','%1_%2','Used\x20HTTPS\x20connection','Changing\x20Map\x20Master\x20for\x20Map\x20ID\x20%1','lobby_roomClosed','observer','exports','other','lobby','getRoomPlayersData','chatMessage','881980PLWutj','getMapMasterFor','closeRoom','getGameRoomByRoomName','createRoom','allServerPlayers','sharedChoice','socket','./ServerPrc','_handleDisconnectForClient\x20','event','changeRoomMasterOrCloseRoom','someoneJoinedToStartedGame','inputAction','getPlayersOnMapId','_handleANETEventsForClient','contains','sharedCanContinue','format','_handleDebugEventsForClient','emit','14123968IKdTNq','202960eHuJff','New\x20Room\x20master\x20is\x20Player\x20with\x20ID\x20%1','loaded','Player\x20registered\x20on\x20Server\x20as\x20%1','gameRooms','trace','PlayerData','removePlayerDataFromServer','data','gameRoomsList','changeMapMaster','battles','registerDone','startedRoomGameDataRequest','clientsList','battle','Client\x20connected\x20','clients','log','612325pDysll','sceneChange','settings','delete','battleMethod','123','getRoomsList','executeEncounter','_onFlagCommand','getPlayerDataById','networkOption','mapId','https','some\x20room','register','2840045JkZNtT','game','Not\x20any\x20player\x20on\x20map\x20ID\x20%1\x20anymore.\x20No\x20Map\x20Master\x20in\x20Game','isOnMapScene','getClientById','battleMethodReceived','./ServerCmd','userCommand','getRoomForClient','getRoomData','isSecure','_handleDisconnectForClient','saveDataComplete','sockets','Closing\x20room\x20%1'];_0x4792=function(){return _0x2e4297;};return _0x4792();}